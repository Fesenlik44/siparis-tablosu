<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Google Sheets Veri Yönetimi</title>
</head>
<body>
  <h1>Google Sheets Tablom</h1>
  <div id="liste"></div>

  <h2>Yeni Veri Ekle</h2>
  <input type="text" id="isim" placeholder="İsim">
  <input type="text" id="email" placeholder="E-posta">
  <button onclick="veriEkle()">Ekle</button>

  <script>
    const sheetURL = "https://script.google.com/macros/s/AKfycbzT8U5MHI9eTEPHQ1DDhXUlwDToj3WObde_Z2eWRnt1/dev";

    // Verileri listele
    fetch(sheetURL)
      .then(res => res.json())
      .then(data => {
        const liste = document.getElementById('liste');
        data.forEach(row => {
          const satir = document.createElement('p');
          satir.textContent = row.join(" | ");
          liste.appendChild(satir);
        });
      });

    // Veri ekle
    function veriEkle() {
      const isim = document.getElementById('isim').value;
      const email = document.getElementById('email').value;

      fetch(sheetURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: isim, email: email })
      })
      .then(res => res.text())
      .then(msg => {
        alert("Ekleme başarılı: " + msg);
        location.reload(); // sayfayı yenile
      });
    }
  </script>
</body>
</html>
